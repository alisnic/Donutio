/* Donutio 2.2.0 by Michael Hohlovich */
!function(t){t.fn.donutio=function(a){var o=t.extend({multiple:!0,color:"#f00",backColor:"#eee",radius:200,width:10,padding:10,type:"donut",active:0},a),u=2*(o.radius+o.padding),s=o.data.length,l=r(o.data),d=n(o.data,l),h=(360-d.reduce(function(t,e){return t+e}))/s;if(o.multiple)for(i=0;s>i;i++)e(u,h,o,d,i,this);else e(u,h,o,d,o.active,this);return this};var e=function(e,r,i,n,s,l){var d=a(e),h=o("svg");h.setAttribute("width",e),h.setAttribute("height",e);var c=0,f=0;for(j=0;j<i.data.length;j++){c=f+r,f=c+n[j];var p=o("path");"donut"==i.type?(p.setAttribute("stroke-width",i.width),p.setAttribute("fill","none"),j==s?p.setAttribute("stroke",i.color):p.setAttribute("stroke",i.backColor)):(p.setAttribute("stroke-width",0),j==s?p.setAttribute("fill",i.color):p.setAttribute("fill",i.backColor)),p.setAttribute("d",u(i.type,Math.floor(e/2),Math.floor(e/2),i.radius,c,f)),h.appendChild(p)}d.append(h),"text"in i.data[s]&&i.data[s].text.forEach(function(e,r){var i=t("<span class='value-"+r+"' />").html(e);d.append(i)}),l.append(d)},r=function(t){var e=0;return t.forEach(function(t){e+=Math.abs(t.value)}),e},n=function(t,e){var r=[];return t.forEach(function(t){var i=Math.floor(Math.abs(t.value)/e*100),n=Math.ceil(3.6*i);r.push(n)}),r},a=function(e){return t("<div class='donut' />").css({width:e,height:e})},o=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg",t);return"svg"==t&&e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e},u=function(t,e,r,i,n,a){var o=s(e,r,i,a),u=s(e,r,i,n),l=180>=a-n?"0":"1",d=[];return d="donut"==t?["M",o.x,o.y,"A",i,i,0,l,0,u.x,u.y].join(" "):["M",o.x,o.y,"A",i,i,0,l,0,u.x,u.y,"L",e,r,"L",o.x,o.y].join(" ")},s=function(t,e,r,i){var n=(i-90)*Math.PI/180;return{x:t+r*Math.cos(n),y:e+r*Math.sin(n)}}}(jQuery);
