/* Donutio 1.0 by Michael Hohlovich */
!function(t){t.fn.donutio=function(e){var r=t.extend({multiple:!0,color:"#f00",backColor:"#eee",radius:200,width:10,padding:10},e),a=2*(r.radius+r.padding),s=r.data.length,o=6.28*r.radius,n=0;r.data.forEach(function(t){n+=Math.abs(t.value)});var d=[];for(r.data.forEach(function(t){var e=Math.floor(Math.abs(t.value)/n*100),r=Math.floor(o/100*e);d.push(r)}),d.shift(),d.push(0),d.reverse(),i=0;s>i;i++){var h=t("<div class='donut' />").css({width:a,height:a});this.append(h);var u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttribute("width",a),u.setAttribute("height",a),u.setAttribute("style","transform: rotate(-90deg)"),u.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");var l=0;for(j=0;s>j;j++){l+=d[j];var c=document.createElementNS("http://www.w3.org/2000/svg","g"),w=document.createElementNS("http://www.w3.org/2000/svg","circle");w.setAttribute("r",r.radius),w.setAttribute("cx",Math.floor(a/2)),w.setAttribute("cy",Math.floor(a/2)),w.setAttribute("stroke-width",r.width),s-j-1==i?w.setAttribute("stroke",r.color):w.setAttribute("stroke",r.backColor),w.setAttribute("fill","none"),w.setAttribute("style","stroke-dasharray: "+o+"; stroke-dashoffset: "+l),c.appendChild(w),u.appendChild(c)}h.append(u),r.data[i].text.forEach(function(e,r){var a=t("<span class='value-"+r+"' />").html(e);h.append(a)})}return this}}(jQuery);